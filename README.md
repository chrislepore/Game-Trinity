# Game Combo Project

## Overview

This project is a Verilog-based reaction game named **Game Combo**, where players must flip switches in the correct order within a time limit. The game is designed to test the player's reaction time and memory while incorporating difficulty settings and a high-score tracking system. A fictional narrative element is integrated to make the gameplay immersive and challenging.

### Key Features:
1. **Game States**: Multiple game states (idle, play, win, and lose) managed by a controller.
2. **7-Segment Displays**: Show the correct order of switch activations.
3. **High Scores**: Tracks the highest score for each difficulty level.
4. **Dynamic Difficulty**: Adjustable via input switches, affecting the timer and combination complexity.
5. **Timer and LEDs**: Countdown timer and LEDs visually indicate remaining time.

**Note:** Project in repository is called **Game_Trinity**

---

## Controller State Diagram

The controller state machine determines the flow of the game:

- **S0 (Idle)**: 
  - The game is inactive. Players can view high scores, adjust difficulty, or start the game.
  - Inputs:
    - `Key1`: View high scores.
    - `Sw6` & `Sw7`: Adjust difficulty.
  - Outputs:
    - Resets the game variables.

- **S1 (Play)**: 
  - Players must flip switches to match the displayed order.
  - Outputs the random vector generated by the `randomV` module.

- **S2 (Win)**: 
  - Displays victory message (dashes on 7-segment displays).
  - Waits for switches to reset to return to S0.

- **S3 (Lose)**: 
  - Displays defeat message (bottom dashes).
  - Compares current score with the high score and updates if necessary.

### State Diagram:

![Controller State Diagram](https://raw.githubusercontent.com/chrislepore/Game-Trinity/refs/heads/main/project_info/Images/Controller-state-diagram.PNG)

---

## Full Block Diagram

The game comprises the following modules:

1. **Controller**: Manages the game states and high scores.
2. **GM1 Module**: Tracks player input and validates the sequence.
3. **Timer Module**: Handles countdowns and LED output.
4. **RandomV Module**: Generates random sequences for each round.

### Diagram:

![Full Block Diagram](https://raw.githubusercontent.com/chrislepore/Game-Trinity/refs/heads/main/project_info/Images/Full-Block-Diagram.PNG)

---

## Module Descriptions and Block Diagrams

### 1. GM1 Module
- **Purpose**: Tracks the player's switch inputs and verifies if they match the generated sequence.
- **Functionality**:
  - Assigns a pulse signal each time a switch (SW0 to SW5) is flipped to logic 1.
  - Uses internal registers to record the sequence and increments them upon valid pulses.
  - Compares the player’s input sequence (`SET`) with the target sequence (`V`).
  - Outputs a logic high signal (`W`) if the player wins the round before the timer runs out.
- **Reset Behavior**:
  - Resets all internal registers and the win signal (`W`) after each round.
- **Block Diagram**:

  ![GM1 Block Diagram](https://raw.githubusercontent.com/chrislepore/Game-Trinity/refs/heads/main/project_info/Images/GM1.PNG)

### 2. RandomV Module
- **Purpose**: Generates random 18-bit vectors, where every 3 bits represent a number for a total of 6 numbers.
- **Functionality**:
  - Uses a Linear Feedback Shift Register (LFSR) to generate a pseudo-random 4-bit value (`H`).
  - Transforms the LFSR output into a valid random sequence based on difficulty (`d`), determining the length of the vector and its complexity.
  - The vector remains stable during gameplay but changes at the start of a new round.
- **Block Diagram**:

  ![RandomV Block Diagram](https://raw.githubusercontent.com/chrislepore/Game-Trinity/refs/heads/main/project_info/Images/RandomV.PNG)

### 3. Timer Module
- **Purpose**: Provides a countdown timer and controls the LEDs to indicate the remaining time.
- **Functionality**:
  - Counts down from a preset value (`set_count`) determined by the difficulty level.
  - Decrements the timer at a controlled clock speed (`SCLK`).
  - Outputs a corresponding LED pattern where LEDs progressively turn off as the timer counts down.
  - Stops decrementing once the timer reaches zero.
- **Reset Behavior**:
  - Resets the timer and LEDs at the beginning of a new round or game state.
- **Block Diagram**:

  ![Timer Block Diagram](https://raw.githubusercontent.com/chrislepore/Game-Trinity/refs/heads/main/project_info/Images/Timer.PNG)

### 4. Controller Module
- **Purpose**: Manages the game state and high scores.
- **Functionality**:
  - Tracks the game’s current state and transitions based on player inputs (`Key0`, `Key1`, and switches).
  - Displays the high score, current score, and random vector sequence on the 7-segment displays.
  - Handles resetting and updating high scores.
  - Sends control signals (`R_PS`, `reset`, and `set_count`) to other modules.
- **State Transitions**:
  - Moves between states (Idle, Play, Win, Lose) based on game conditions and player actions.


---

## Verification

The following image illustrate various states of the game during simulation and testing:


![Verification Image](https://raw.githubusercontent.com/chrislepore/Game-Trinity/refs/heads/main/project_info/Images/Verification.PNG)


